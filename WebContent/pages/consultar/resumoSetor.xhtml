<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
		
	<ui:composition template="/new-template/template-crud.xhtml" >
    
    	<ui:define name="tituloPagina">
    		<h:outputText value="Resumo Setor" />
    	</ui:define>
    	
		<ui:define name="parametros">
    	   <ui:param name="bean" value="#{resumoSetorBean}" />
    	</ui:define>

    	<ui:define name="tituloFieldSetFiltro">
    		Resumo Setores
		</ui:define>
			
		<ui:define name="camposFiltro">
			<fieldset>
				<div class="row">
					<div class="col-md-4">
							<div class="form-group">
							<h:outputText value="Cidade " />
							<h:selectOneMenu id="cidadeSearch" 
											 value="#{bean.secretaria.cidade}"
											 converter="entityConverter" styleClass="form-control">
								<f:selectItem itemLabel="SELECIONE" itemValue="#{null}" />
								<f:selectItems var="o" itemValue="#{o}" itemLabel="#{o.descricao.toUpperCase()}"
										value="#{bean.cidades}" />
							</h:selectOneMenu>
							<h:message for="cidadeSearch" tooltip="true"
							styleClass="error-messages" />
						</div>
					</div>
				</div>	
			</fieldset>		
		</ui:define>	
		
		<ui:define name="tituloPainel">
			<ui:param name="tituloPainel" value="Resumos Setores - #{bean.secretaria.cidade.descricao}"  />
		</ui:define>
	
		<ui:define name="botoesInsertFiltro" />
		
		
		<ui:define name="resultFiltro" >
			<p:dataTable id="resumos" styleClass="table table-responsive table-mobile"
		   			 widgetVar="tabelaResumos" rows="30" emptyMessage="Nenhum Resumo foi encontrado."
			 		 value="#{bean.resultSearch}" var="resumo" paginator="#{bean.resultSearch.rowCount > 0}"
			 		 rendered="#{bean.resultSearch.rowCount > 0}" paginatorPosition="bottom"
			 		 rowStyleClass="bgLinha1,bgLinha2">
			 		 
					
			 		 <p:column headerText="Arquivo" >
						<h:outputText value="#{resumo.arquivoPagamento.nomeArquivo}" />
					 </p:column>
			 		 
			 		 <p:column headerText="Secretaria" >
						<h:outputText value="#{resumo.secretaria.descricao}" />
					 </p:column>
			 		 
			 		  <p:column headerText="Setor" >
						<h:outputText value="#{resumo.setor.descricao}" />
					 </p:column>
			 		 
			 		 <p:column headerText="Nº Pagamentos" style="text-align:right;" >
		   				<h:outputText id="numPagamentos" value="#{resumo.quantidadePagamentos}" />
		   			</p:column>
		   			
					<p:column headerText="Total Proventos" style="text-align:right;" >
		   				<h:outputText id="totalProventos"  value="#{resumo.totalProventos}" converter="valorNumericoMoedaConverter" />
		   			</p:column>
		   			
					<p:column headerText="Total Líquido" style="text-align:right;" >
		   				<h:outputText id="totalLiquido"  value="#{resumo.totalLiquido}" converter="valorNumericoMoedaConverter" />
		   			</p:column>
		   			
					<p:column headerText="Total Descontos" style="text-align:right;" >
		   				<h:outputText id="totalDescontos" value="#{resumo.totalDescontos}"  converter="valorNumericoMoedaConverter" />
		   			</p:column>
		   			
					<p:column headerText="Total Remuneração" style="text-align:right;" >
		   				<h:outputText id="totalRemuneracao"  value="#{resumo.totalRemuneracao}"  converter="valorNumericoMoedaConverter" />
		   			</p:column>
			</p:dataTable> 
		</ui:define>
		
    </ui:composition>
	
</html>